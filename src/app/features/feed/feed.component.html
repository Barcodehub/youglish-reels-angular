<div class="feed-container">
  <!-- YouGlish Widget Container -->
  <div id="youglish-widget" class="widget-container"></div>

  <!-- Overlay Content -->
  <div class="overlay-content">
    <!-- Top Bar -->
    <div class="top-bar">
      <div class="logo">ğŸ¬ YouGlish Reels</div>
      <div class="user-menu">
        <span class="username">{{ authService.currentUser() }}</span>
        <button class="icon-btn" (click)="logout()" title="Cerrar sesiÃ³n">
          ğŸšª
        </button>
      </div>
    </div>

    <!-- Current Phrase Display -->
    @if (currentVideo()) {
      <div class="phrase-display">
        <div class="phrase-text">{{ currentVideo()!.phrase.text }}</div>
        <div class="phrase-meta">
          {{ currentVideo()!.language }}
          @if (currentVideo()!.accent) {
            <span>â€¢ {{ currentVideo()!.accent }}</span>
          }
        </div>
      </div>
    }

    <!-- Controls Sidebar -->
    <div class="controls-sidebar">
      <button
        class="control-btn"
        (click)="toggleSubtitles()"
        [class.active]="showSubtitles()"
        title="Alternar subtÃ­tulos"
      >
        ğŸ“
      </button>

      <button
        class="control-btn"
        (click)="goToPhrases()"
        title="Mis palabras/frases"
      >
        ğŸ“š
      </button>

      <button
        class="control-btn"
        (click)="loadNextVideo()"
        [disabled]="isLoading()"
        title="Siguiente video"
      >
        â­ï¸
      </button>
    </div>

    <!-- Loading Indicator -->
    @if (isLoading()) {
      <div class="loading-overlay">
        <div class="spinner"></div>
        <p>Cargando video...</p>
      </div>
    }

    <!-- Error Message -->
    @if (error()) {
      <div class="error-overlay">
        <div class="error-content">
          <h2>âš ï¸ Sin videos</h2>
          <p>{{ error() }}</p>
          <button class="primary-btn" (click)="goToPhrases()">
            Agregar Palabras/Frases
          </button>
        </div>
      </div>
    }

    <!-- Swipe Hint -->
    @if (!isLoading() && !error() && currentVideo()) {
      <div class="swipe-hint">
        <span class="hint-icon">ğŸ‘†</span>
        <span>Desliza hacia arriba o presiona â†“</span>
      </div>
    }
  </div>
</div>

